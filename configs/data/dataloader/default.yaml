# Configuración del DataLoader para el modelo de segmentación de grietas

# Parámetros básicos
batch_size: 8
num_workers: -1  # -1 = auto-detección basada en CPU
shuffle: true
pin_memory: true
prefetch_factor: 2
drop_last: false

# Parámetros para entrenamiento distribuido
distributed:
  enabled: false  # Activar para entrenamiento distribuido
  rank: 0         # Rango del proceso actual
  world_size: 1   # Número total de procesos
  
# Configuración del sampler
sampler:
  enabled: false  # Si es true, se activará el sampler configurado
  kind: "random"  # Opciones: "random", "balanced", "subset", "distributed"
  shuffle: true   # Si se deben mezclar los datos
  seed: 42        # Semilla para reproducibilidad
  # Parámetros adicionales según el tipo de sampler
  # labels: null     # Para balanced sampler
  # indices: null    # Para subset sampler
  # num_samples: null # Opcional: número de muestras a tomar
  # replacement: false # Si se permite reemplazo
  # drop_last: false   # Si se descartan batches incompletos

# Optimización de memoria
memory:
  fp16: false             # Usar precisión mixta (float16)
  adaptive_batch_size: false  # Ajustar batch size según memoria disponible
  max_memory_mb: null     # Límite de memoria a usar (MB), null = usar toda disponible 

# Sample limits for quick tests
# - To limit the number of samples (e.g., for quick tests), set a positive integer here.
# - To use the entire dataset, set to null, 0, or remove these lines.
#   (null, 0, or removing = use the full dataset)
max_train_samples: 8
max_val_samples: 4
max_test_samples: 4 