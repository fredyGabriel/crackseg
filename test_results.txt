============================= test session starts =============================
platform win32 -- Python 3.12.9, pytest-8.4.0, pluggy-1.5.0 -- C:\Users\fgrv\miniconda3\envs\crackseg\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\fgrv\OneDrive\Documentos\PythonProjects\doctorado\crackseg
configfile: pyproject.toml
plugins: hydra-core-1.3.2, cov-6.1.1, mock-3.14.0
collecting ... collected 18 items

tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_component_initialization PASSED [  5%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_session_state_initialization PASSED [ 11%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_event_handler_setup PASSED [ 16%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_config_update PASSED [ 22%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_render_header FAILED [ 27%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_render_without_scan_directory FAILED [ 33%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_start_async_scan PASSED [ 38%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_clear_results PASSED [ 44%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_triplet_card_rendering PASSED [ 50%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_export_data_creation PASSED [ 55%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_json_export FAILED [ 61%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_csv_export FAILED [ 66%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_event_progress_handler PASSED [ 72%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_event_triplet_found_handler PASSED [ 77%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_validation_level_integration FAILED [ 83%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_full_render_cycle FAILED [ 88%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_error_handling FAILED [ 94%]
tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_performance_with_large_dataset FAILED [100%]

================================== FAILURES ===================================
_______________ TestResultsGalleryComponent.test_render_header ________________
tests\gui\test_results_gallery_component.py:191: in test_render_header
    component._render_header("/test/directory", "test_prefix")
scripts\gui\components\results_gallery_component.py:263: in _render_header
    col1, col2, col3 = st.columns([2, 1, 1])
    ^^^^^^^^^^^^^^^^
E   ValueError: too many values to unpack (expected 3)
_______ TestResultsGalleryComponent.test_render_without_scan_directory ________
tests\gui\test_results_gallery_component.py:207: in test_render_without_scan_directory
    result = component.render(scan_directory=None, key_prefix="test")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
scripts\gui\components\results_gallery_component.py:119: in render
    self._render_header(scan_directory, key_prefix)
scripts\gui\components\results_gallery_component.py:263: in _render_header
    col1, col2, col3 = st.columns([2, 1, 1])
    ^^^^^^^^^^^^^^^^
E   ValueError: too many values to unpack (expected 3)
________________ TestResultsGalleryComponent.test_json_export _________________
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1393: in patched
    with self.decoration_helper(patched,
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.gui.components.results_gallery_component' from 'C:\\Users\\fgrv\\OneDrive\\Documentos\\PythonProjects\\doctorado\\crackseg\\scripts\\gui\\components\\results_gallery_component.py'> does not have the attribute 'json'
_________________ TestResultsGalleryComponent.test_csv_export _________________
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1393: in patched
    with self.decoration_helper(patched,
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Users\fgrv\miniconda3\envs\crackseg\Lib\unittest\mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.gui.components.results_gallery_component' from 'C:\\Users\\fgrv\\OneDrive\\Documentos\\PythonProjects\\doctorado\\crackseg\\scripts\\gui\\components\\results_gallery_component.py'> does not have the attribute 'pd'
________ TestResultsGalleryComponent.test_validation_level_integration ________
tests\gui\test_results_gallery_component.py:506: in test_validation_level_integration
    result = component.render(
scripts\gui\components\results_gallery_component.py:119: in render
    self._render_header(scan_directory, key_prefix)
scripts\gui\components\results_gallery_component.py:263: in _render_header
    col1, col2, col3 = st.columns([2, 1, 1])
    ^^^^^^^^^^^^^^^^
E   ValueError: too many values to unpack (expected 3)
_____________ TestResultsGalleryComponent.test_full_render_cycle ______________
tests\gui\test_results_gallery_component.py:525: in test_full_render_cycle
    result = component.render(
scripts\gui\components\results_gallery_component.py:119: in render
    self._render_header(scan_directory, key_prefix)
scripts\gui\components\results_gallery_component.py:263: in _render_header
    col1, col2, col3 = st.columns([2, 1, 1])
    ^^^^^^^^^^^^^^^^
E   ValueError: too many values to unpack (expected 3)
_______________ TestResultsGalleryComponent.test_error_handling _______________
tests\gui\test_results_gallery_component.py:556: in test_error_handling
    result = component.render(
scripts\gui\components\results_gallery_component.py:119: in render
    self._render_header(scan_directory, key_prefix)
scripts\gui\components\results_gallery_component.py:263: in _render_header
    col1, col2, col3 = st.columns([2, 1, 1])
    ^^^^^^^^^^^^^^^^
E   ValueError: too many values to unpack (expected 3)
_______ TestResultsGalleryComponent.test_performance_with_large_dataset _______
tests\gui\test_results_gallery_component.py:596: in test_performance_with_large_dataset
    gallery_results = component._render_gallery_grid("perf_test")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
scripts\gui\components\results_gallery_component.py:431: in _render_gallery_grid
    col1, col2 = st.columns(2)
    ^^^^^^^^^^
E   ValueError: too many values to unpack (expected 2)
============================== warnings summary ===============================
scripts\gui\components\tensorboard\component.py:13
  C:\Users\fgrv\OneDrive\Documentos\PythonProjects\doctorado\crackseg\scripts\gui\components\tensorboard\component.py:13: DeprecationWarning: Importing from 'tb_manager' is deprecated. Use 'from scripts.gui.utils.tensorboard import ...' instead. The tb_manager module will be removed in a future version.
    from scripts.gui.utils.tb_manager import (

tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_start_async_scan
  C:\Users\fgrv\OneDrive\Documentos\PythonProjects\doctorado\crackseg\scripts\gui\components\results_gallery_component.py:621: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    async for triplet in self.scanner.scan_async(
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_render_header
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_render_without_scan_directory
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_json_export
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_csv_export
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_validation_level_integration
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_full_render_cycle
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_error_handling
FAILED tests/gui/test_results_gallery_component.py::TestResultsGalleryComponent::test_performance_with_large_dataset
================== 8 failed, 10 passed, 2 warnings in 1.30s ===================
